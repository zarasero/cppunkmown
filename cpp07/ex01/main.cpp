/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   main.cpp                                           :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: zserobia <zserobia@student.42.fr>          +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2025/03/09 17:30:43 by zserobia          #+#    #+#             */
/*   Updated: 2025/03/09 17:31:25 by zserobia         ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include <iostream>
#include <string>
using namespace std;

// Шаблон функции iter
// Функция принимает три параметра:
// 1. Указатель на массив
// 2. Длину массива
// 3. Функцию, которая будет применена к каждому элементу массива
template <typename T>
void iter(T* array, size_t length, void (*func)(T&)) {
    // Проходим по каждому элементу массива
    for (size_t i = 0; i < length; ++i) {
        func(array[i]);  // Применяем функцию к текущему элементу
    }
}

// Пример функции, которая будет применяться к каждому элементу массива
template <typename T>
void printElement(T& elem) {
    cout << elem << " ";  // Просто выводим элемент на экран
}

// Пример функции, которая увеличивает целочисленный элемент массива на 1
void increment(int& num) {
    num += 1;
}

// Пример функции, которая изменяет строку, добавляя суффикс " (modified)"
void modifyString(string& str) {
    str += " (modified)";
}

int main() {
    // Тест для массива целых чисел
    int arr[] = {1, 2, 3, 4, 5};
    size_t length = sizeof(arr) / sizeof(arr[0]);  // Определяем длину массива

    cout << "Before incrementing: ";
    iter(arr, length, printElement);  // Печатаем элементы массива до изменений
    cout << endl;

    iter(arr, length, increment);  // Применяем функцию increment ко всем элементам массива

    cout << "After incrementing: ";
    iter(arr, length, printElement);  // Печатаем элементы массива после изменений
    cout << endl;

    // Тест для массива строк
    string strArr[] = {"hello", "world", "iter", "test"};
    size_t strLength = sizeof(strArr) / sizeof(strArr[0]);  // Определяем длину массива строк

    cout << "Before modifying: ";
    iter(strArr, strLength, printElement);  // Печатаем строки до изменений
    cout << endl;

    iter(strArr, strLength, modifyString);  // Применяем функцию modifyString ко всем строкам

    cout << "After modifying: ";
    iter(strArr, strLength, printElement);  // Печатаем строки после изменений
    cout << endl;

    return 0;
}


/*Шаблон функции iter:

Эта функция принимает три параметра:
Указатель на массив (T* array).
Длину массива (size_t length).
Функцию, которая будет применена ко всем элементам массива. Мы используем указатель на функцию, который принимает ссылку на элемент массива (void (*func)(T&)).
В теле функции мы используем цикл for, чтобы пройти по всем элементам массива и применить функцию ко всем элементам с помощью вызова func(array[i]).
Функции для применения к элементам массива:

printElement: Эта функция просто выводит элемент массива на экран.
increment: Увеличивает каждый элемент целочисленного массива на 1.
modifyString: Добавляет суффикс " (modified)" к каждой строке в массиве строк.
Функция main:

В функции main создаются массивы разных типов (целые числа и строки).
Мы используем функцию iter для применения различных операций к каждому элементу массива:
Сначала мы выводим элементы массива до применения изменений.
Затем применяем операции (инкремент для массива целых чисел и модификация для массива строк).
И, наконец, выводим результат после изменений.*/
